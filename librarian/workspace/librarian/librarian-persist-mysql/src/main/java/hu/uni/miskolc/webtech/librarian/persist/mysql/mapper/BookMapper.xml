<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="hu.uni.miskolc.webtech.librarian.persist.mysql.mapper.BookMapper">

<!-- 
	<resultMap type="Author" id="AuthorResultMap">
		<id property="authorID" column="authorId" />
		<result property="name" column="authorName" />
		<result property="nationality" column="nationality" javaType="Nationality"
			jdbcType="VARCHAR" />
		<result property="birthDate" column="birthDate" javaType="java.util.Date"
			jdbcType="DATE" typeHandler="DateOnlyTypeHandler" />
	</resultMap>
	 -->
	
	
	<!-- <resultMap type="Book" id="BookRM"> <id property="bookId" column="bookId"/> 
		<result property="title" column="title"/> </resultMap> <select id="selectAuthorOfBook" 
		resultMap="AuthorResultMap" parameterType="Book"> select * from author where 
		authorId in (select authorId from bookAuthor where bookId = 1); </select> -->

	<select id="queryGenresOfBook" parameterType="Book" resultType="Genre">
		select genre from genre where book = #{book.bookId};
	</select>

	<!-- <select id="selectAuthors" resultMap="AuthorResultMap"> select * from 
		author; </select> <select id="selectAuthorsByName" resultMap="AuthorResultMap"> 
		select * from author where authorName like #{name}; </select> <select id="selectAuthorsByNationality" 
		resultMap="AuthorResultMap"> select * from author where nationality = #{nationality}; 
		</select> <select id="selectAuthorById" resultType="Author"> select * from 
		author where authorId=#{authorId}; </select> <insert id="recordAuthor"> insert 
		into author(authorName, nationality, birthDate) values(#{name},#{nationality},#{birthDate}); 
		</insert> <update id="updateAuthor" parameterType="Author"> update author 
		set authorName = #{author.name}, nationality = #{author.nationality}, birthDate 
		= #{author.birthDate} where authorId = #{author.authorID}; </update> <delete 
		id="deleteAuthor" parameterType="Author"> delete author where authorId = 
		#{author.authorID}; </delete> -->

</mapper>